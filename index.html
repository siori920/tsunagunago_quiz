<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÂêçË≠∑„ÇØ„Ç§„Ç∫„Éû„Çπ„Çø„ÉºÊ§úÂÆö</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            width: 782px;
            height: 945px;
            position: relative;
            overflow: hidden;
            font-family: 'Hiragino Sans', '„Éí„É©„ÇÆ„ÉéËßí„Ç¥„Ç∑„ÉÉ„ÇØ', 'Yu Gothic', 'Meiryo', sans-serif;
        }
        .background {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #7accbf;
        }
        
        /* „É°„Ç§„É≥ÁîªÈù¢ÈÅ∏ÊäûÁîªÈù¢ */
        .level-select-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 55px 0 55px;
            box-sizing: border-box;
        }
        
        .main-title {
            text-align: center;
            color: #fcf2e5;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
        }
        
        .main-title h1 {
            font-size: 44px;
            font-weight: bold;
            margin: 0;
            line-height: 1.3;
        }
        
        .level-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 28px 60px;
            padding: 0 100px;
            margin-top: 80px;
        }
        
        .level-button {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: #fcf2e5;
            border: none;
            font-size: 36px;
            font-weight: bold;
            color: #000;
            cursor: pointer;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            transition: transform 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .level-button:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,0,0,0.4);
        }
        
        .top-button {
            width: 420px;
            height: 72px;
            background: #d0d0d0;
            border: none;
            border-radius: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.2s;
            margin-top: 80px;
        }
        
        .top-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        
        /* „ÇØ„Ç§„Ç∫ÁîªÈù¢ */
        .quiz-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
        }
        
        .question {
            margin-top: 55px;
            width: 650px;
            text-align: center;
            font-size: 32px;
            font-weight: bold;
            color: #fcf2e5;
            line-height: 1.5;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .choices {
            margin-top: 30px;
            width: 600px;
        }
        
        .choice {
            display: block;
            width: 100%;
            margin: 14px 0;
            padding: 22px 36px;
            background: #fcf2e5;
            border: none;
            border-radius: 28px;
            font-size: 26px;
            font-weight: bold;
            color: #000;
            text-align: left;
            cursor: pointer;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
            transition: transform 0.2s;
        }
        
        .choice:hover {
            transform: translateY(-3px);
            box-shadow: 0 9px 18px rgba(0,0,0,0.3);
        }
        
        .choice:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
        
        .quiz-top-button {
            position: absolute;
            bottom: 145px;
            left: 50%;
            transform: translateX(-50%);
            width: 400px;
            height: 68px;
            background: #d0d0d0;
            border: none;
            border-radius: 20px;
            font-size: 26px;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }
        
        .quiz-top-button:hover {
            transform: translateX(-50%) translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        
        .main-top-button {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            width: 400px;
            height: 68px;
            background: #d0d0d0;
            border: none;
            border-radius: 20px;
            font-size: 26px;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }
        
        .main-top-button:hover {
            transform: translateX(-50%) translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        
        /* ÁµêÊûúÁîªÈù¢ */
        .result-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
            padding: 40px 0;
        }
        
        .result-card {
            width: 560px;
            padding: 40px 36px;
            border-radius: 24px;
            background: #fcf2e5;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            text-align: center;
        }
        
        .result-header {
            font-size: 26px;
            font-weight: bold;
            margin-bottom: 12px;
            color: #000;
        }
        
        .result-main {
            font-size: 52px;
            font-weight: bold;
            margin: 18px 0;
            color: #000;
        }
        
        .result-footer {
            font-size: 22px;
            line-height: 1.5;
            color: #000;
        }
        
        .explanation-button {
            width: 400px;
            height: 68px;
            background: #fcf2e5;
            border: none;
            border-radius: 20px;
            font-size: 26px;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.2s;
            margin-top: 80px;
        }
        
        .explanation-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        
        /* ÁµêÊûúÁîªÈù¢Â∞ÇÁî®„ÅÆTOPÁîªÈù¢„Å∏„Éú„Çø„É≥ÔºàÈÄöÂ∏∏„Éï„É≠„ÉºÔºâ */
        .result-main-top-button {
            width: 400px;
            height: 68px;
            background: #d0d0d0;
            border: none;
            border-radius: 20px;
            font-size: 26px;
            font-weight: bold;
            color: #333;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
            transition: transform 0.2s;
            margin-top: 230px;
        }
        
        .result-main-top-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.4);
        }
        
        /* Ëß£Ë™¨ÁîªÈù¢ */
        .explanation-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
        }
        
        .explanation-title {
            margin-top: 50px;
            width: 640px;
            text-align: center;
            font-size: 30px;
            font-weight: bold;
            color: #fcf2e5;
            line-height: 1.5;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .explanation-card {
            margin-top: 35px;
            width: 580px;
            padding: 36px 40px;
            border-radius: 24px;
            background: #fcf2e5;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }
        
        .explanation-correct {
            font-size: 30px;
            font-weight: bold;
            margin-bottom: 20px;
            color: #000;
            text-align: center;
        }
        
        .explanation-text {
            font-size: 22px;
            line-height: 1.7;
            color: #000;
            text-align: left;
        }
        
        .hidden {
            display: none !important;
        }
        
        /* „ÇØ„Ç§„Ç∫ÁîªÈù¢„ÅÆ„Éú„Çø„É≥‰ΩçÁΩÆ */
        .quiz-screen .quiz-top-button {
            bottom: 145px;
        }
        
        .quiz-screen .main-top-button {
            bottom: 60px;
        }
    </style>
</head>
<body>
    <div class="background"></div>
    
    <!-- „É¨„Éô„É´ÈÅ∏ÊäûÁîªÈù¢ -->
    <div class="level-select-screen" id="levelSelectScreen">
        <div class="main-title">
            <h1>ÂêçË≠∑„ÇØ„Ç§„Ç∫<br>„Éû„Çπ„Çø„ÉºÊ§úÂÆöÔºÅÔºÅ</h1>
        </div>
        <div class="level-buttons">
            <button class="level-button" onclick="startQuiz('beginner1')">ÂàùÁ¥ö1</button>
            <button class="level-button" onclick="startQuiz('beginner2')">ÂàùÁ¥ö2</button>
            <button class="level-button" onclick="startQuiz('intermediate1')">‰∏≠Á¥ö1</button>
            <button class="level-button" onclick="startQuiz('intermediate2')">‰∏≠Á¥ö2</button>
            <button class="level-button" onclick="startQuiz('advanced1')">‰∏äÁ¥ö1</button>
            <button class="level-button" onclick="startQuiz('advanced2')">‰∏äÁ¥ö2</button>
        </div>
        <button class="top-button" onclick="returnToTop()">TOPÁîªÈù¢„Å∏</button>
    </div>
    
    <!-- „ÇØ„Ç§„Ç∫ÁîªÈù¢ -->
    <div class="quiz-screen" id="quizScreen">
        <div class="question" id="question"></div>
        <div class="choices" id="choicesContainer"></div>
        <button class="quiz-top-button" onclick="returnToQuizTop()">„ÇØ„Ç§„Ç∫TOP„Å∏</button>
        <button class="main-top-button" onclick="returnToTop()">TOPÁîªÈù¢„Å∏</button>
    </div>
    
    <!-- ÁµêÊûúÁîªÈù¢ -->
    <div class="result-screen" id="resultScreen">
        <div class="result-card">
            <div class="result-header" id="resultHeader"></div>
            <div class="result-main" id="resultMain"></div>
            <div class="result-footer" id="resultFooter"></div>
        </div>
        <button class="explanation-button" id="explanationButton" onclick="showExplanation()">Ëß£Ë™¨</button>
        <button class="result-main-top-button" onclick="returnToTop()">TOPÁîªÈù¢„Å∏</button>
    </div>
    
    <!-- Ëß£Ë™¨ÁîªÈù¢ -->
    <div class="explanation-screen" id="explanationScreen">
        <div class="explanation-title" id="explanationTitle"></div>
        <div class="explanation-card">
            <div class="explanation-correct" id="explanationCorrect"></div>
            <div class="explanation-text" id="explanationText"></div>
        </div>
        <button class="quiz-top-button" onclick="returnToQuizTop()">„ÇØ„Ç§„Ç∫TOP„Å∏</button>
        <button class="main-top-button" onclick="returnToTop()">TOPÁîªÈù¢„Å∏</button>
    </div>
    
    <script>
        // „ÇØ„Ç§„Ç∫„Éá„Éº„Çø
        const quizData = {
            beginner1: {
                id: 'beginner1',
                question: "ÂêçË≠∑Â∏Ç„ÅÆÁâπÁî£ÂìÅ„Å®„ÅÑ„Åà„Å∞Ôºü",
                choices: ["A. Êµ∑„Å∂„Å©„ÅÜ", "B. „ÅÇ„Åê„ÉºÔºàË±öÔºâ", "C. „Éè„ÉñÈÖí"],
                correct: "B",
                explanation: "„Ç¢„Ç∞„Éº„ÅØÊ≤ñÁ∏ÑÂõ∫Êúâ„ÅÆË≤¥Èáç„Å™Âú®Êù•Ë±ö„Åß„ÄÅÂêçË≠∑Â∏Ç„ÅØ„Äå„Ç¢„Ç∞„Éº„ÅÆÈáå„Äç„Å®„Åó„Å¶ÂÆ£Ë®Ä„Åó„Å¶„Åä„Çä„ÄÅ„Ç¢„Ç∞„ÉºÊôÆÂèä„Å´Âäõ„ÇíÂÖ•„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
            },
            beginner2: {
                id: 'beginner2',
                question: "Â±ãÊàëÂú∞Â≥∂„Å∏„ÅØÊ≤ñÁ∏ÑÊú¨Â≥∂„Åã„Çâ‰Ωï„Åß„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Åß„Åó„Çá„ÅÜÔºü",
                choices: ["A. Ëàπ", "B. Ê©ã", "C. „Éà„É≥„Éç„É´"],
                correct: "B",
                explanation: "Â±ãÊàëÂú∞Â≥∂„ÅØÊú¨Â≥∂ÂåóÈÉ®„Å´Â±û„Åó„ÄÅÊ©ã„ÅßÊ≤ñÁ∏ÑÊú¨Â≥∂„Å®Áπã„Åå„Å£„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
            },
            intermediate1: {
                id: 'intermediate1',
                question: "ÂêçË≠∑Â∏ÇÊ∞ë‰ºöÈ§®„ÅÆÂÖ•„ÇäÂè£„Å´„ÅÇ„ÇãÂÉè„ÅØ‰Ωï„ÅÆÂãïÁâ©„ÅÆÂÉèÔºü",
                choices: ["A. ÈªíË±ö(„ÅÇ„Åê„ÉºË±ö)„ÅÆÂÉè", "B. „É§„É≥„Éê„É´„ÇØ„Ç§„Éä„ÅÆÂÉè", "C. Áå´„ÅÆÂÉè"],
                correct: "A",
                explanation: "2013Âπ¥9Êúà1Êó•„Å´ÔΩ¢„Ç¢„Ç∞„Éº„ÅÆÈáåÔΩ£„ÇíÂÆ£Ë®Ä„Åó„ÄÅË®òÂøµÂÉè„ÇíÂª∫Á´ã„Åó„Åæ„Åó„Åü„ÄÇ„Äå„Ç¢„Ç∞„Éº„Äç„Å®„ÅØÊ≤ñÁ∏ÑÂõ∫Êúâ„ÅÆË≤¥Èáç„Å™Âú®Êù•Ë±ö„Åß„ÄÅ„ÇÑ„Çè„Çâ„Åã„Åè„ÄÅÁîò„Åø„ÅåÂº∑„ÅÑÂë≥„Çè„ÅÑ„ÅåÁâπÂæ¥„Åß„Åô„ÄÇ„Åã„Å§„Å¶Áµ∂ÊªÖ„ÅÆÂç±Ê©ü„ÇíËøé„Åà„Åü„Äå„Ç¢„Ç∞„Éº„Äç„ÇíÊàª„Åó‰∫§ÈÖç„Å´„Çà„ÇäÂæ©Ê¥ª„Åï„Åõ„Åæ„Åó„Åü„ÄÇ"
            },
            intermediate2: {
                id: 'intermediate2',
                question: "„Å≤„Çì„Å∑„Çì„Ç¨„Ç∏„É•„Éû„É´„ÅÆÊé®ÂÆöÊ®πÈΩ¢„Å®„Åó„Å¶ÊúÄ„ÇÇËøë„ÅÑ„ÅÆ„ÅØÔºü",
                choices: ["A. Á¥Ñ150Âπ¥", "B. Á¥Ñ300Âπ¥", "C. Á¥Ñ600Âπ¥"],
                correct: "B",
                explanation: "„Å≤„Çì„Å∑„Çì„Ç¨„Ç∏„É•„Éû„É´„ÅØÊé®ÂÆöÊ®πÈΩ¢Á¥Ñ300Âπ¥„ÄÅÈ´ò„Åï19m„ÅÆÂõΩÊåáÂÆöÂ§©ÁÑ∂Ë®òÂøµÁâ©„Åß„Åô„ÄÇ"
            },
            advanced1: {
                id: 'advanced1',
                question: "ÂêçË≠∑Â∏ÇÂ∫ÅËàé„ÅåÂèóË≥û„Åó„ÅüÂª∫ÁØâ„Å´Èñ¢„Åô„ÇãË≥û„ÅÆÂêçÂâç„ÅØÔºü",
                choices: ["A. Êó•Êú¨Âª∫ÁØâÂ≠¶‰ºöË≥û", "B. Êó•Êú¨Ëä∏Ë°ìÈô¢Ë≥û", "C. ÂÖ¨ÂÖ±Âª∫ÁØâË≥û"],
                correct: "A",
                explanation: "ÂêçË≠∑Â∏ÇÂ∫ÅËàé„ÅØË±°Ë®≠Ë®àÈõÜÂõ£„ÅÆ‰ª£Ë°®‰Ωú„Å®„ÇÇË®Ä„Çè„Çå„ÇãÊúâÂêçÂª∫ÁØâÁâ©„Åß„ÄÅÁ¨¨33ÂõûÊó•Êú¨Âª∫ÁØâÂ≠¶‰ºöË≥û‰ΩúÂìÅ„Åó„Åæ„Åó„Åü„ÄÇÊ≤ñÁ∏Ñ„ÅÆÈ¢®Âúü„ÇíÁîü„Åã„Åó„ÅüË®≠Ë®à„Åß„ÄÅÁúÅ„Ç®„ÉçÂ∫ÅËàé„Å®„Åó„Å¶Áü•„Çâ„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ"
            },
            advanced2: {
                id: 'advanced2',
                question: "„Äå„Éî„Éà„Ç•„Äç„Å®„ÅØ‰∏Ä‰Ωì„Å™„Çì„Åß„Åó„Çá„ÅÜÔºü",
                choices: ["A. Â∞èÂûã„ÅÆ„ÇØ„Ç∏„É©È°û", "B. „Ç§„Ç´", "C. „Ç¶„Éü„Ç¨„É°"],
                correct: "A",
                explanation: "ÂêçË≠∑„Åß„ÅØÂ∞èÂûã„ÅÆ„ÇØ„Ç∏„É©È°û„ÅÆ„Åì„Å®„Çí„Éî„Éà„Ç•„Å®Âëº„Çì„Åß„ÅÑ„Åæ„Åô„ÄÇÂêçË≠∑Êπæ„Åß„ÅØ„ÄÅÊòî„Åã„ÇâÊú¨Á®Æ„Å™„Å©„ÇíÂØæË±°„Å®„Åô„ÇãËøΩ„ÅÑËæº„Åø„ÅÆ„Éî„Éà„Ç•ÊºÅ„ÇíË°å„Å£„Å¶„ÅÑ„Åæ„Åó„Åü„Åå„ÄÅÂπ≥ÊàêÂÖÉÂπ¥3Êúà‰ª•Èôç„ÄÅ„Åì„ÅÜ„Åó„ÅüÊºÅ„ÅØÁ¶ÅÊ≠¢„Å®„Å™„Çä„Åæ„Åó„Åü„ÄÇ"
            }
        };
        
        let currentQuiz = null;
        let answerStats = null;
        
        // Google Apps Script Web App URL
        const API_URL = 'https://script.google.com/macros/s/AKfycbzf4qREjAhy66ADqSKHGHgw9VCy67EjqwyG7yBptU1NyI_6PZicjvCL3-CUnOYf4paG8A/exec';
        
        // Áµ±Ë®à„Éá„Éº„Çø„ÅÆÂàùÊúüÂåñ
        function createEmptyStats() {
            const stats = {};
            Object.keys(quizData).forEach(key => {
                stats[key] = { A: 0, B: 0, C: 0, D: 0 };
            });
            return stats;
        }
        
        // „Çµ„Éº„Éê„Éº„Åã„ÇâÁµ±Ë®à„ÇíÂèñÂæó
        async function initStats() {
            try {
                const response = await fetch(API_URL);
                if (response.ok) {
                    answerStats = await response.json();
                    console.log('‚úÖ „Çµ„Éº„Éê„Éº„Åã„ÇâÁµ±Ë®à„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü');
                } else {
                    answerStats = createEmptyStats();
                    console.log('‚úÖ Êñ∞„Åó„ÅÑÁµ±Ë®à„Çí‰ΩúÊàê„Åó„Åæ„Åó„Åü');
                }
            } catch (e) {
                console.log('‚ö†Ô∏è „Çµ„Éº„Éê„ÉºÊé•Á∂ö„Ç®„É©„Éº„ÄÇ„É≠„Éº„Ç´„É´„É¢„Éº„Éâ„ÅßÂãï‰Ωú„Åó„Åæ„Åô:', e);
                answerStats = createEmptyStats();
            }
        }
        
        // ÂõûÁ≠î„Çí„Çµ„Éº„Éê„Éº„Å´‰øùÂ≠ò
        async function saveAnswer(quizId, choice) {
            try {
                const url = `${API_URL}?quizId=${encodeURIComponent(quizId)}&choice=${encodeURIComponent(choice)}`;
                const response = await fetch(url, {
                    method: 'POST',
                    mode: 'no-cors'
                });
                console.log('‚úÖ ÂõûÁ≠î„Çí„Çµ„Éº„Éê„Éº„Å´ÈÄÅ‰ø°„Åó„Åæ„Åó„Åü');
            } catch (e) {
                console.error('‚ùå „Çµ„Éº„Éê„ÉºÊé•Á∂ö„Ç®„É©„Éº:', e);
            }
        }
        
        // ÂõûÁ≠î„ÇíË®òÈå≤
        async function recordAnswer(quizId, selectedChoice) {
            if (answerStats[quizId] && answerStats[quizId][selectedChoice] !== undefined) {
                answerStats[quizId][selectedChoice]++;
            }
            await saveAnswer(quizId, selectedChoice);
            console.log(`üìù ÂõûÁ≠î„ÇíË®òÈå≤: ${quizId} - ${selectedChoice}`);
        }
        
        // „ÇØ„Ç§„Ç∫ÈñãÂßã
        function startQuiz(level) {
            currentQuiz = quizData[level];
            
            document.getElementById('question').textContent = currentQuiz.question;
            
            const choicesContainer = document.getElementById('choicesContainer');
            choicesContainer.innerHTML = '';
            
            currentQuiz.choices.forEach((choice, index) => {
                const button = document.createElement('button');
                button.className = 'choice';
                button.textContent = choice;
                button.onclick = () => selectAnswer(choice.charAt(0));
                choicesContainer.appendChild(button);
            });
            
            showScreen('quizScreen');
        }
        
        // ÂõûÁ≠îÈÅ∏Êäû
        async function selectAnswer(selectedChoice) {
            const buttons = document.querySelectorAll('.choice');
            buttons.forEach(btn => btn.disabled = true);
            
            await recordAnswer(currentQuiz.id, selectedChoice);
            
            const isCorrect = selectedChoice === currentQuiz.correct;
            showResult(isCorrect);
        }
        
        // ÁµêÊûúË°®Á§∫
        function showResult(isCorrect) {
            const resultHeader = document.getElementById('resultHeader');
            const resultMain = document.getElementById('resultMain');
            const resultFooter = document.getElementById('resultFooter');
            
            if (isCorrect) {
                resultHeader.textContent = '„ÅäË¶ã‰∫ãÔºÅ';
                resultMain.textContent = 'Ê≠£Ëß£ÔºÅ';
                resultFooter.textContent = 'Ê≠£Á≠îÁéá„ÅØÊòéÊó•ÂÖ¨ÈñãÔºÅ';
            } else {
                resultHeader.textContent = 'ÊÆãÂøµ...';
                resultMain.textContent = '‰∏çÊ≠£Ëß£ÔºÅ';
                resultFooter.textContent = 'Ê≠£Á≠îÁéá„ÅØÊòéÊó•ÂÖ¨ÈñãÔºÅ';
            }
            
            showScreen('resultScreen');
        }
        
        // Ëß£Ë™¨Ë°®Á§∫
        function showExplanation() {
            document.getElementById('explanationTitle').textContent = currentQuiz.question;
            document.getElementById('explanationCorrect').textContent = `Ê≠£Ëß£Ôºö${currentQuiz.correct}`;
            document.getElementById('explanationText').textContent = currentQuiz.explanation;
            
            showScreen('explanationScreen');
        }
        
        // „ÇØ„Ç§„Ç∫TOP„Å∏Êàª„Çã
        function returnToQuizTop() {
            showScreen('levelSelectScreen');
        }
        
        // TOPÁîªÈù¢„Å∏Êàª„ÇãÔºàÂÆüÈöõ„ÅÆÂÆüË£Ö„Åß„ÅØÂà•„Éö„Éº„Ç∏„Å∏ÈÅ∑ÁßªÔºâ
        function returnToTop() {
            // window.location.href = 'index.html';
            showScreen('levelSelectScreen');
        }
        
        // ÁîªÈù¢Âàá„ÇäÊõø„Åà
        function showScreen(screenId) {
            const screens = ['levelSelectScreen', 'quizScreen', 'resultScreen', 'explanationScreen'];
            screens.forEach(id => {
                const element = document.getElementById(id);
                if (id === screenId) {
                    element.style.display = 'flex';
                } else {
                    element.style.display = 'none';
                }
            });
        }
        
        // Áµ±Ë®àË°®Á§∫
        async function showStats() {
            try {
                const response = await fetch(API_URL);
                if (response.ok) {
                    answerStats = await response.json();
                }
                
                console.clear();
                console.log('='.repeat(60));
                console.log('üìä „ÇØ„Ç§„Ç∫ÂõûÁ≠îÁµ±Ë®à(ÂÖ®„Éñ„É©„Ç¶„Ç∂„ÉªÂÖ®„Éá„Éê„Ç§„ÇπÂÖ±Êúâ)');
                console.log('='.repeat(60));
                
                Object.entries(quizData).forEach(([key, quiz]) => {
                    const stats = answerStats[key];
                    const total = Object.values(stats).reduce((sum, count) => sum + count, 0);
                    
                    console.log(`\n„Äê${key}„Äë${quiz.question}`);
                    console.log(`Ê≠£Ëß£: ${quiz.correct}`);
                    console.log('-'.repeat(50));
                    Object.entries(stats).forEach(([choice, count]) => {
                        if (quiz.choices.some(c => c.startsWith(choice))) {
                            const percentage = total > 0 ? Math.round(count / total * 100) : 0;
                            console.log(`${choice}: ${count}‰∫∫ (${percentage}%)`);
                        }
                    });
                    console.log(`ÂêàË®à: ${total}‰∫∫`);
                });
                
                console.log('\n' + '='.repeat(60));
            } catch (e) {
                console.error('‚ùå Áµ±Ë®à„ÅÆÂèñÂæó„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', e);
            }
        }
        
        window.showStats = showStats;
        
        // ÂàùÊúüÂåñ
        window.addEventListener('load', () => {
            answerStats = createEmptyStats();
            initStats();
            
            console.log('üìù ÂêçË≠∑„ÇØ„Ç§„Ç∫„Éû„Çπ„Çø„ÉºÊ§úÂÆö„ÅåË™≠„ÅøËæº„Åæ„Çå„Åæ„Åó„Åü');
            console.log('üí° Áµ±Ë®à„ÇíË¶ã„Çã„Å´„ÅØ„ÄÅ„Ç≥„É≥„ÇΩ„Éº„É´„Åß showStats() „ÇíÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ');
        });
    </script>
</body>
</html>
